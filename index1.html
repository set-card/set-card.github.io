<html>

<head>
    <title>Set Card</title>
</head>

<body>
<h1>Prototype &lt;SET-CARD> Web Component</h1>
<h3>For: Niels de Jong</h3>
<a href="https://yqnn.github.io/svg-path-editor/#M45,50h150v50h-150Z">https://yqnn.github.io/svg-path-editor/#</a>
    <script>
        customElements.define("set-card", class extends HTMLElement {
            constructor() {
                super().attachShadow({ mode: 'open' }).innerHTML = `<svg viewBox="0 0 500 500" xmlns="http://www.w3.org/2000/svg" xmlns:bx="https://boxy-svg.com">
                    <defs>
                        <bx:grid x="0" y="0" width="16" height="16"/>
                        <linearGradient gradientUnits="userSpaceOnUse" x1="43.5" y1="37" x2="43.5" y2="50" id="gradient-0" gradientTransform="matrix(0.702278, 0.711904, -0.860576, 0.858689, 38.36052, -39.786184)" spreadMethod="pad">
                        <stop offset="0" style="stop-color: rgb(69, 23, 41);"/>
                        <stop offset="1" style="stop-color: rgb(209, 0, 136);"/>
                        </linearGradient>
                        <linearGradient gradientUnits="userSpaceOnUse" x1="43.5" y1="37" x2="43.5" y2="50" id="gradient-1" gradientTransform="matrix(0.702278, 0.711904, -0.860576, 0.858689, 38.342392, 260.19577)" spreadMethod="pad">
                        <stop offset="0" style="stop-color: rgb(69, 23, 41);"/>
                        <stop offset="1" style="stop-color: rgb(209, 0, 136);"/>
                        </linearGradient>
                        <linearGradient gradientUnits="userSpaceOnUse" x1="43.5" y1="37" x2="43.5" y2="50" id="gradient-2" gradientTransform="matrix(0.702278, 0.711904, -0.860576, 0.858689, 245.321625, -39.810837)" spreadMethod="pad">
                        <stop offset="0" style="stop-color: rgb(69, 23, 41);"/>
                        <stop offset="1" style="stop-color: rgb(209, 0, 136);"/>
                        </linearGradient>
                        <linearGradient gradientUnits="userSpaceOnUse" x1="43.5" y1="37" x2="43.5" y2="50" id="gradient-3" gradientTransform="matrix(0.702278, 0.711904, -0.860576, 0.858689, 245.357605, 260.242676)" spreadMethod="pad">
                        <stop offset="0" style="stop-color: rgb(69, 23, 41);"/>
                        <stop offset="1" style="stop-color: rgb(209, 0, 136);"/>
                        </linearGradient>
                    </defs>
                    <rect width="239" height="333" rx="12" ry="12" stroke="#444" fill="#FEFEFE" fill-opacity="1" stroke-width="1" x="16" y="16" style="pointer-events: none;"/>
                    <rect width="220" height="310" x="26" y="26" ry="1" fill="url(#A)" fill-opacity="1 "/>
                    <text x="216" y="334" stroke="black" text-anchor="middle" opacity=".7" style="font-weight: 700; font-family: Arial; letter-spacing: 2px; fill: rgb(85, 85, 85); stroke: none; font-size: 8px; white-space: pre;">= .=</text>
                    
                    <path d="M 26.003 26.011 Z Z M 26.003 26.011 L 34.003 26.011 L 39.003 39.011 L 26.003 34.011 L 26.003 26.011 Z" style="fill: url(#gradient-0);" fill-opacity="1"/>
                    <path style="fill: rgb(79, 8, 41);" d="M 26.002 25.971 L 39.003 39.011 L 26.003 34.091 L 26.002 25.971 Z"/>
                    <path d="M 25.984 325.992 Z Z M 25.984 325.992 L 33.984 325.992 L 38.984 338.992 L 25.984 333.992 L 25.984 325.992 Z" style="fill: url(#gradient-1);" fill-opacity="1" transform="matrix(0, -1, 1, 0, -300.008005, 364.976002)"/>
                    <path style="fill: rgb(79, 8, 41);" d="M 26.02 325.972 L 39.021 339.012 L 26.021 334.092 L 26.02 325.972 Z" transform="matrix(0, -1, 1, 0, -299.971488, 365.012488)"/>
                    <path d="M 232.964 25.986 Z Z M 232.964 25.986 L 240.964 25.986 L 245.964 38.986 L 232.964 33.986 L 232.964 25.986 Z" style="fill: url(#gradient-2);" fill-opacity="1" transform="matrix(0, 1, -1, 0, 271.950006, -206.978004)"/>
                    <path style="fill: rgb(79, 8, 41);" d="M 232.984 25.966 L 245.985 39.006 L 232.985 34.086 L 232.984 25.966 Z" transform="matrix(0, 1, -1, 0, 271.970497, -206.998496)"/>
                    <path d="M 233 326.04 Z Z M 233 326.041  L 241 326.04 L 246 339.0 L 233 334.04 L 233 326.04 Z" style="fill: url(#gradient-3);" fill-opacity="1" transform="matrix(-1, 0, 0, -1, 478.999999, 665.080018)"/>
                    <path style="fill: rgb(79, 8, 41);" d="M 233 326.041 L 246.001 339.0 L 233.001 334.1 L 233 326.01 Z" transform="matrix(-1, 0, 0, -1, 479.001009, 665.121978)"/>
                    
                    <defs>
                        <pattern id="halfs" viewBox="0,0,10,10" width="10%" height="10%" fill="#fff" patternTransform='scale(0.5) rotate(45)'>
                            <rect x='0' y='0' width='10%' height='1.75%' />
                        </pattern>
                    </defs>
                    
                    <g id="shapes">    
                    <path id="shape1" d="M45 50h150v50h-150 Z" fill="red" /> 
                    </g>
                </svg>`
            }
            get shapes() {
                return this.shadowRoot.querySelector("#shapes");
            }
            set shapes(svg) {
                this.shapes.innerHTML = svg;
            }
            connectedCallback() {
                // read attributes
                // create id=shapes inside svg
                let shape = {
                    "rect": `<rect transform="translate(0 0)" x="81" y="160" width="109" height="48" fill="#000000" stroke="#000000" stroke-width="3px" style=""/>`,
                    "wiggle": `<path transform="translate(0 0)" style="fill-rule: nonzero;" d="m81 190c51-69 51 9 112-17-52 77-52 0-112 17z" fill="#000000" stroke="#000000" stroke-width="3px" bx:origin="0.64 -1.137945"/>`,
                    "oval": `<ellipse transform="translate(0 0)" cx="136" cy="184" rx="55" ry="23.5" fill="#000000" stroke="#000000" stroke-width="3px" style=""/>`,
                    "red": "red",
                    "green": "green",
                    "blue": "blue",
                    "halfs": `<rect transform="translate(0 0)" x="61" y="60" width="150" height="250" fill="url(#halfs)" style=""/>`
                }


                let shape1 = this.getAttribute("shape1");
                let shape2 = this.getAttribute("shape2");
                let shape3 = this.getAttribute("shape3");
                let color = this.getAttribute("color");
                let filling = this.getAttribute("filling");

                console.log(shape1,shape2,shape3);
                
                if(shape1==shape2 && shape2==shape3){
                    // shape1 naar boven
                    // shape2 naar beneden

                    let shapes = shape[shape1].replace("0 0", "0 -75").replace(/#000000/g, colour(shape[color])) + 
                    shape[shape2].replace("0 0", "0 75").replace(/#000000/g, colour(shape[color])) + 
                    shape[shape3].replace(/#000000/g, colour(shape[color])) +
                    shape[filling];

                    console.log(shapes);
                    this.shapes = shapes;

                } else if(shape1==shape2) {
                    // shape1 naar boven
                    // shape2 naar beneden
                    let shapes = shape[shape1].replace("0 0", "0 -37").replace(/#000000/g, colour(shape[color])) + 
                    shape[shape2].replace("0 0", "0 37").replace(/#000000/g, colour(shape[color])) +
                    shape[filling];

                    this.shapes = shapes;
                    
                } else {
                    let shapes = shape[shape1].replace(/#000000/g, colour(shape[color])) +
                    shape[filling];

                    this.shapes = shapes;
                }
                
                function colour(x){
                    switch(x) {
                    case "red":
                        x = "#e6196b";
                        return x;

                    case "green":
                        x = "#1dc973";
                        return x;

                    case "blue":
                        x = "#6666ff";
                        return x;
                }
                }
                //red #e6196b
                //green #1dc973
                //blue #6666ff
            }
        });
    </script>
    <style>
        set-card {
            display: inline-block;
            width: 300px;
        }
    </style>

    <set-card shape1="oval" shape2="oval" color="blue" filling="halfs"></set-card>
    <set-card shape1="rect" color="green" filling="halfs"></set-card>
    <set-card shape1="wiggle" shape2="wiggle" shape3="wiggle" color="red" filling="halfs"></set-card>
    <set-card shape1="rect" shape2="rect" shape3="rect" color="blue"></set-card>
    
</body>

</html>